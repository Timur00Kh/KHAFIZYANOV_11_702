<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Главная</title>

    <link href="https://fonts.googleapis.com/css?family=Sunflower:300" rel="stylesheet">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js"></script>
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
</head>
<body>

<div class="container mt-3" style="top: 200px;">
    <div class="row">
        <div class="col-2">

            <h4>Поиск:</h4>
        </div>
    </div>
    <div class="row">
        <div class="form-inline col-12">
            <input id="search_input" class="form-control col-9" placeholder="Search" >
            <button class="btn btn-outline-success col-2 ml-2" >Search</button>
        </div>
        <div class="list-group col-10 mt-3 ml-3" id="searching_tooltips"></div>
    </div>
    <div class="row mt-5">
        <div class="col-8">

        </div>
        <div class="col-4">
            <div class="list-group text-center">
                <a href="#" class="list-group-item active">Форум</a>
                <a href="#" class="list-group-item">Разговорная</a>
                <a href="#" class="list-group-item">FAQ</a>
                <a href="#" class="list-group-item">Как дела?</a>
                <a href="#" class="list-group-item">Где купить туалетной бумаги?</a>
            </div>
        </div>
    </div>
    <nav aria-label="breadcrumb" class="mt-4">
        <ol class="breadcrumb">
            <li class="breadcrumb-item active" aria-current="page">Последнии обновления:</li>
        </ol>
    </nav>
    <div class="row">
        <div class="col-3 mt-2">
            <div class="card">
                <img class="card-img-top" alt="Card image cap" src="https://rugrad.eu/upload/iblock/6f7/6f78624b08c4af6cadd298a5b57839c1.jpg">
                <div class="card-body">
                    <h5 class="card-title">Кунг-фу панда 3</h5>
                    <h6 class="card-subtitle mb-2 text-muted">Card subtitle</h6>
                    <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
                    <a href="/html/item-page.html" class="btn btn-primary">Card link</a>
                </div>
            </div>
        </div>
        <div class="col-3 mt-2">
            <div class="card">
                <div class="card-body">

                    <h5 class="card-title">Новость 3</h5>
                    <h6 class="card-subtitle mb-2 text-muted">Card subtitle</h6>
                    <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
                    <a href="#" class="btn btn-primary">Card link</a>
                </div>
            </div>
        </div>
        <div class="col-3 mt-2">
            <div class="card">
                <div class="card-body">

                    <h5 class="card-title">Новость 4</h5>
                    <h6 class="card-subtitle mb-2 text-muted">Card subtitle</h6>
                    <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
                    <a href="#" class="btn btn-primary">Card link</a>
                </div>
            </div>
        </div>
        <div class="col-3 mt-2">
            <div class="card">
                <div class="card-body">

                    <h5 class="card-title">Новость 5</h5>
                    <h6 class="card-subtitle mb-2 text-muted">Card subtitle</h6>
                    <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
                    <a href="#" class="btn btn-primary">Card link</a>
                </div>
            </div>
        </div>
        <div class="col-3 mt-2">
            <div class="card">
                <div class="card-body">

                    <h5 class="card-title">Новость 6</h5>
                    <h6 class="card-subtitle mb-2 text-muted">Card subtitle</h6>
                    <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
                    <a href="#" class="btn btn-primary">Card link</a>
                </div>
            </div>
        </div>
        <div class="col-3 mt-2">
            <div class="card">
                <div class="card-body">

                    <h5 class="card-title">Новость 6</h5>
                    <h6 class="card-subtitle mb-2 text-muted">Card subtitle</h6>
                    <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
                    <a href="#" class="btn btn-primary">Card link</a>
                </div>
            </div>
        </div>
        <div class="col-3 mt-2">
            <div class="card">
                <div class="card-body">

                    <h5 class="card-title">Новость 8</h5>
                    <h6 class="card-subtitle mb-2 text-muted">Card subtitle</h6>
                    <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
                    <a href="#" class="btn btn-primary">Card link</a>
                </div>
            </div>
        </div>

    </div>
</div>

<footer class="footer bg-secondary mt-4">
    <div class="container ">
        <div class="row align-items-center">
            <div class="col">
        <p class="text" style="color: lightgrey;">© Timur Khafizyanov 2018</p>
        </div>
        </div>
    </div>
</footer>
<script src="../scripts/NavController.js"></script>
<script>
    document.getElementById("search_input").onchange = function () {
        var s = document.getElementById("search_input").value;
        var http = new XMLHttpRequest();
        http.open('GET', "/search?q=" + s);
        http.setRequestHeader('Content-type', 'application/json; charset=utf-8');
        http.onreadystatechange = function () {
            if (this.readyState === 4 && this.status === 200) {
                var tooltips = JSON.parse(http.responseText);
                console.log(http.responseText);
                document.getElementById("searching_tooltips").innerHTML = "";
                for (var i = 0; i < tooltips.length; i++) {
                    var a = document.createElement("a");
                    a.innerText = tooltips[i].name;
                    a.href = tooltips[i].url;
                    a.className = "list-group-item list-group-item-action";
                    document.getElementById("searching_tooltips").append(a);
                }

            }
        }
        http.send()
    }
</script>
</body>
</html>